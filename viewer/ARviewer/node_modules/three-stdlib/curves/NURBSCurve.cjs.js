"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("three"),s=require("./NURBSUtils.cjs.js");class e extends t.Curve{constructor(s,e,n,o,i){super(),this.degree=s,this.knots=e,this.controlPoints=[],this.startKnot=o||0,this.endKnot=i||this.knots.length-1;for(let s=0;s<n.length;++s){const e=n[s];this.controlPoints[s]=new t.Vector4(e.x,e.y,e.z,e.w)}}getPoint(e,n){const o=n||new t.Vector3,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),r=s.calcBSplinePoint(this.degree,this.knots,this.controlPoints,i);return 1!=r.w&&r.divideScalar(r.w),o.set(r.x,r.y,r.z)}getTangent(e,n){const o=n||new t.Vector3,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),r=s.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,i,1);return o.copy(r[1]).normalize(),o}}exports.NURBSCurve=e;
