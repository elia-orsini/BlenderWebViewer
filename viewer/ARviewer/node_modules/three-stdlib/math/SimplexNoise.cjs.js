"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("@babel/runtime/helpers/defineProperty"));exports.SimplexNoise=class{constructor(t=Math){e.default(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),e.default(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),e.default(this,"p",[]),e.default(this,"perm",[]),e.default(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),e.default(this,"dot",((t,e,s)=>t[0]*e+t[1]*s)),e.default(this,"dot3",((t,e,s,h)=>t[0]*e+t[1]*s+t[2]*h)),e.default(this,"dot4",((t,e,s,h,r)=>t[0]*e+t[1]*s+t[2]*h+t[3]*r)),e.default(this,"noise",((t,e)=>{let s,h,r;const i=(t+e)*(.5*(Math.sqrt(3)-1)),o=Math.floor(t+i),l=Math.floor(e+i),d=(3-Math.sqrt(3))/6,a=(o+l)*d,p=t-(o-a),f=e-(l-a);let m=0,u=1;p>f&&(m=1,u=0);const n=p-m+d,M=f-u+d,c=p-1+2*d,g=f-1+2*d,q=255&o,x=255&l,b=this.perm[q+this.perm[x]]%12,y=this.perm[q+m+this.perm[x+u]]%12,j=this.perm[q+1+this.perm[x+1]]%12;let v=.5-p*p-f*f;v<0?s=0:(v*=v,s=v*v*this.dot(this.grad3[b],p,f));let P=.5-n*n-M*M;P<0?h=0:(P*=P,h=P*P*this.dot(this.grad3[y],n,M));let _=.5-c*c-g*g;return _<0?r=0:(_*=_,r=_*_*this.dot(this.grad3[j],c,g)),70*(s+h+r)})),e.default(this,"noise3d",((t,e,s)=>{let h,r,i,o;const l=(t+e+s)*(1/3),d=Math.floor(t+l),a=Math.floor(e+l),p=Math.floor(s+l),f=1/6,m=(d+a+p)*f,u=t-(d-m),n=e-(a-m),M=s-(p-m);let c,g,q,x,b,y;u>=n?n>=M?(c=1,g=0,q=0,x=1,b=1,y=0):u>=M?(c=1,g=0,q=0,x=1,b=0,y=1):(c=0,g=0,q=1,x=1,b=0,y=1):n<M?(c=0,g=0,q=1,x=0,b=1,y=1):u<M?(c=0,g=1,q=0,x=0,b=1,y=1):(c=0,g=1,q=0,x=1,b=1,y=0);const j=u-c+f,v=n-g+f,P=M-q+f,_=u-x+2*f,N=n-b+2*f,O=M-y+2*f,S=u-1+.5,k=n-1+.5,w=M-1+.5,z=255&d,A=255&a,B=255&p,C=this.perm[z+this.perm[A+this.perm[B]]]%12,D=this.perm[z+c+this.perm[A+g+this.perm[B+q]]]%12,E=this.perm[z+x+this.perm[A+b+this.perm[B+y]]]%12,F=this.perm[z+1+this.perm[A+1+this.perm[B+1]]]%12;let G=.6-u*u-n*n-M*M;G<0?h=0:(G*=G,h=G*G*this.dot3(this.grad3[C],u,n,M));let H=.6-j*j-v*v-P*P;H<0?r=0:(H*=H,r=H*H*this.dot3(this.grad3[D],j,v,P));let I=.6-_*_-N*N-O*O;I<0?i=0:(I*=I,i=I*I*this.dot3(this.grad3[E],_,N,O));let J=.6-S*S-k*k-w*w;return J<0?o=0:(J*=J,o=J*J*this.dot3(this.grad3[F],S,k,w)),32*(h+r+i+o)})),e.default(this,"noise4d",((t,e,s,h)=>{const r=this.grad4,i=this.simplex,o=this.perm,l=(Math.sqrt(5)-1)/4,d=(5-Math.sqrt(5))/20;let a,p,f,m,u;const n=(t+e+s+h)*l,M=Math.floor(t+n),c=Math.floor(e+n),g=Math.floor(s+n),q=Math.floor(h+n),x=(M+c+g+q)*d,b=t-(M-x),y=e-(c-x),j=s-(g-x),v=h-(q-x),P=(b>y?32:0)+(b>j?16:0)+(y>j?8:0)+(b>v?4:0)+(y>v?2:0)+(j>v?1:0);let _,N,O,S,k,w,z,A,B,C,D,E;_=i[P][0]>=3?1:0,N=i[P][1]>=3?1:0,O=i[P][2]>=3?1:0,S=i[P][3]>=3?1:0,k=i[P][0]>=2?1:0,w=i[P][1]>=2?1:0,z=i[P][2]>=2?1:0,A=i[P][3]>=2?1:0,B=i[P][0]>=1?1:0,C=i[P][1]>=1?1:0,D=i[P][2]>=1?1:0,E=i[P][3]>=1?1:0;const F=b-_+d,G=y-N+d,H=j-O+d,I=v-S+d,J=b-k+2*d,K=y-w+2*d,L=j-z+2*d,Q=v-A+2*d,R=b-B+3*d,T=y-C+3*d,U=j-D+3*d,V=v-E+3*d,W=b-1+4*d,X=y-1+4*d,Y=j-1+4*d,Z=v-1+4*d,$=255&M,tt=255&c,et=255&g,st=255&q,ht=o[$+o[tt+o[et+o[st]]]]%32,rt=o[$+_+o[tt+N+o[et+O+o[st+S]]]]%32,it=o[$+k+o[tt+w+o[et+z+o[st+A]]]]%32,ot=o[$+B+o[tt+C+o[et+D+o[st+E]]]]%32,lt=o[$+1+o[tt+1+o[et+1+o[st+1]]]]%32;let dt=.6-b*b-y*y-j*j-v*v;dt<0?a=0:(dt*=dt,a=dt*dt*this.dot4(r[ht],b,y,j,v));let at=.6-F*F-G*G-H*H-I*I;at<0?p=0:(at*=at,p=at*at*this.dot4(r[rt],F,G,H,I));let pt=.6-J*J-K*K-L*L-Q*Q;pt<0?f=0:(pt*=pt,f=pt*pt*this.dot4(r[it],J,K,L,Q));let ft=.6-R*R-T*T-U*U-V*V;ft<0?m=0:(ft*=ft,m=ft*ft*this.dot4(r[ot],R,T,U,V));let mt=.6-W*W-X*X-Y*Y-Z*Z;return mt<0?u=0:(mt*=mt,u=mt*mt*this.dot4(r[lt],W,X,Y,Z)),27*(a+p+f+m+u)}));for(let e=0;e<256;e++)this.p[e]=Math.floor(256*t.random());for(let t=0;t<512;t++)this.perm[t]=this.p[255&t]}};
