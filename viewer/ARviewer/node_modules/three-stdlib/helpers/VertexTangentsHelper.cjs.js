"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("three");const t=new e.Vector3,r=new e.Vector3;class o extends e.LineSegments{constructor(t,r,o){const s=void 0!==o?o:65535,i=t.geometry;if(!i||!i.isBufferGeometry)return void console.error("THREE.VertexTangentsHelper: geometry not an instance of THREE.BufferGeometry.",i);const n=i.attributes.tangent.count,a=new e.BufferGeometry,u=new e.Float32BufferAttribute(2*n*3,3);a.setAttribute("position",u),super(a,new e.LineBasicMaterial({color:s,toneMapped:!1})),this.type="VertexTangentsHelper",this.object=t,this.size=void 0!==r?r:1,this.matrixAutoUpdate=!1,this.update()}update(){this.object.updateMatrixWorld(!0);const e=this.object.matrixWorld,o=this.geometry.attributes.position,s=this.object.geometry,i=s.attributes.position,n=s.attributes.tangent;let a=0;for(let s=0,u=i.count;s<u;s++)t.set(i.getX(s),i.getY(s),i.getZ(s)).applyMatrix4(e),r.set(n.getX(s),n.getY(s),n.getZ(s)),r.transformDirection(e).multiplyScalar(this.size).add(t),o.setXYZ(a,t.x,t.y,t.z),a+=1,o.setXYZ(a,r.x,r.y,r.z),a+=1;o.needsUpdate=!0}}exports.VertexTangentsHelper=o;
