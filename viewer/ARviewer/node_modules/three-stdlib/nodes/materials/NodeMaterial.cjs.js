"use strict";var t=require("three"),e=require("../core/NodeUtils.cjs.js");class s extends t.ShaderMaterial{constructor(){super(),this.type=this.constructor.name,this.lights=!0}setDefaultValues(t){let e;for(const s in t)e=t[s],void 0===this[s]&&(e&&"function"==typeof e.clone?this[s]=e.clone():this[s]=e);Object.assign(this.defines,t.defines)}toJSON(s){const o=void 0===s||"string"==typeof s;o&&(s={textures:{},images:{},nodes:{}});const i=t.Material.prototype.toJSON.call(this,s),n=e.getNodesKeys(this);i.inputNodes={};for(const t of n)i.inputNodes[t]=this[t].toJSON(s).uuid;function r(t){const e=[];for(const s in t){const o=t[s];delete o.metadata,e.push(o)}return e}if(o){const t=r(s.textures),e=r(s.images),o=r(s.nodes);t.length>0&&(i.textures=t),e.length>0&&(i.images=e),o.length>0&&(i.nodes=o)}return i}}s.prototype.isNodeMaterial=!0,module.exports=s;
