"use strict";var e=require("@babel/runtime/helpers/defineProperty"),r=require("../core/Node.cjs.js"),t=require("../math/OperatorNode.cjs.js"),o=require("./MaterialReferenceNode.cjs.js");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../core/constants.cjs.js"),require("../core/NodeUtils.cjs.js"),require("three"),require("../core/TempNode.cjs.js"),require("./ReferenceNode.cjs.js"),require("../core/UniformNode.cjs.js"),require("../core/InputNode.cjs.js");var a=s(e);class l extends r{constructor(e=l.COLOR){super(),this.scope=e}getNodeType(e){const r=this.scope,t=e.context.material;return r===l.COLOR?null!==t.map?"vec4":"vec3":r===l.OPACITY?"float":r===l.SPECULAR?"vec3":r===l.ROUGHNESS||r===l.METALNESS?"float":void 0}generate(e,r){const s=e.context.material,a=this.scope;let c=null;if(a===l.ALPHA_TEST)c=new o("alphaTest","float");else if(a===l.COLOR){const e=new o("color","color");c=null!==s.map&&void 0!==s.map&&!0===s.map.isTexture?new t("*",e,new o("map","texture")):e}else if(a===l.OPACITY){const e=new o("opacity","float");c=null!==s.alphaMap&&void 0!==s.alphaMap&&!0===s.alphaMap.isTexture?new t("*",e,new o("alphaMap","texture")):e}else if(a===l.SPECULAR){const e=new o("specularColor","color");c=null!==s.specularColorMap&&void 0!==s.specularColorMap&&!0===s.specularColorMap.isTexture?new t("*",e,new o("specularColorMap","texture")):e}else{const r=this.getNodeType(e);c=new o(a,r)}return c.build(e,r)}}a.default(l,"ALPHA_TEST","alphaTest"),a.default(l,"COLOR","color"),a.default(l,"OPACITY","opacity"),a.default(l,"SPECULAR","specular"),a.default(l,"ROUGHNESS","roughness"),a.default(l,"METALNESS","metalness"),module.exports=l;
