"use strict";var e=require("@babel/runtime/helpers/defineProperty"),r=require("../core/Node.cjs.js"),s=require("../core/AttributeNode.cjs.js"),o=require("../core/VaryNode.cjs.js"),c=require("./ModelNode.cjs.js"),i=require("./CameraNode.cjs.js"),t=require("../math/OperatorNode.cjs.js"),u=require("../math/MathNode.cjs.js");function j(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../core/constants.cjs.js"),require("../core/NodeUtils.cjs.js"),require("three"),require("./Object3DNode.cjs.js"),require("../core/UniformNode.cjs.js"),require("../core/InputNode.cjs.js"),require("../core/TempNode.cjs.js"),require("../core/ExpressionNode.cjs.js"),require("../utils/JoinNode.cjs.js"),require("../utils/SplitNode.cjs.js"),require("../core/NodeBuilder.cjs.js"),require("../core/NodeUniform.cjs.js"),require("../core/NodeAttribute.cjs.js"),require("../core/NodeVary.cjs.js"),require("../core/NodeVar.cjs.js"),require("../core/NodeCode.cjs.js"),require("../core/NodeKeywords.cjs.js");var d=j(e);class n extends r{constructor(e=n.LOCAL){super("vec3"),this.scope=e}getHash(){return`normal-${this.scope}`}generate(e){const r=this.scope;let j=null;if(r===n.GEOMETRY)j=new s("normal","vec3");else if(r===n.LOCAL)j=new o(new n(n.GEOMETRY));else if(r===n.VIEW){const e=new t("*",new c(c.NORMAL_MATRIX),new n(n.LOCAL));j=new u(u.NORMALIZE,new o(e))}else if(r===n.WORLD){const e=new u(u.TRANSFORM_DIRECTION,new n(n.VIEW),new i(i.VIEW_MATRIX));j=new u(u.NORMALIZE,new o(e))}return j.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}d.default(n,"GEOMETRY","geometry"),d.default(n,"LOCAL","local"),d.default(n,"WORLD","world"),d.default(n,"VIEW","view"),module.exports=n;
