"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("three");class t extends e.Loader{load(t,r,s,a){const o=this,l=new e.FileLoader(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,(function(e){try{r(o.parse(e))}catch(e){a?a(e):console.error(e),o.manager.itemError(t)}}),s,a)}parse(t){const r=t.split("\n"),s=[],a=[];for(let e of r){if(e=e.trim(),"#"===e.charAt(0))continue;const t=e.split(/\s+/);3===t.length&&(s.push(parseFloat(t[0])),s.push(parseFloat(t[1])),s.push(parseFloat(t[2]))),6===t.length&&(s.push(parseFloat(t[0])),s.push(parseFloat(t[1])),s.push(parseFloat(t[2])),a.push(parseFloat(t[3])/255),a.push(parseFloat(t[4])/255),a.push(parseFloat(t[5])/255))}const o=new e.BufferGeometry;return o.setAttribute("position",new e.Float32BufferAttribute(s,3)),a.length>0&&o.setAttribute("color",new e.Float32BufferAttribute(a,3)),o}}exports.XYZLoader=t;
