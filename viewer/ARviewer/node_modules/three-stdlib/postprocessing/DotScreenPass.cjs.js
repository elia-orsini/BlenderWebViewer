"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/defineProperty"),r=require("./Pass.cjs.js"),s=require("three"),t=require("../shaders/DotScreenShader.cjs.js");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(e);class n extends r.Pass{constructor(e,i,n){super(),a.default(this,"material",void 0),a.default(this,"fsQuad",void 0),a.default(this,"uniforms",void 0),void 0===t.DotScreenShader&&console.error("THREE.DotScreenPass relies on THREE.DotScreenShader");const o=t.DotScreenShader;this.uniforms=s.UniformsUtils.clone(o.uniforms),void 0!==e&&this.uniforms.center.value.copy(e),void 0!==i&&(this.uniforms.angle.value=i),void 0!==n&&(this.uniforms.scale.value=n),this.material=new s.ShaderMaterial({uniforms:this.uniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader}),this.fsQuad=new r.FullScreenQuad(this.material)}render(e,r,s){this.uniforms.tDiffuse.value=s.texture,this.uniforms.tSize.value.set(s.width,s.height),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(),this.fsQuad.render(e))}}exports.DotScreenPass=n;
