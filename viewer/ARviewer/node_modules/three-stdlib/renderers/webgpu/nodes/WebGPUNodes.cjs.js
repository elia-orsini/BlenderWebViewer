"use strict";var e=require("./WebGPUNodeBuilder.cjs.js"),r=require("../../nodes/core/NodeFrame.cjs.js");require("./WebGPUNodeUniformsGroup.cjs.js"),require("../WebGPUUniformsGroup.cjs.js"),require("../WebGPUBinding.cjs.js"),require("../constants.cjs.js"),require("./WebGPUNodeUniform.cjs.js"),require("../WebGPUUniform.cjs.js"),require("three"),require("../WebGPUSampler.cjs.js"),require("../WebGPUSampledTexture.cjs.js"),require("../../nodes/core/NodeSlot.cjs.js"),require("../../nodes/core/NodeBuilder.cjs.js"),require("../../nodes/core/NodeUniform.cjs.js"),require("../../nodes/core/NodeAttribute.cjs.js"),require("../../nodes/core/NodeVary.cjs.js"),require("../../nodes/core/constants.cjs.js"),require("../../nodes/accessors/ModelViewProjectionNode.cjs.js"),require("../../nodes/core/Node.cjs.js"),require("../../nodes/accessors/CameraNode.cjs.js"),require("@babel/runtime/helpers/defineProperty"),require("../../nodes/inputs/Vector3Node.cjs.js"),require("../../nodes/core/InputNode.cjs.js"),require("../../nodes/inputs/Matrix4Node.cjs.js"),require("../../nodes/accessors/ModelNode.cjs.js"),require("../../nodes/inputs/Matrix3Node.cjs.js"),require("../../nodes/math/OperatorNode.cjs.js"),require("../../nodes/accessors/PositionNode.cjs.js"),require("../../nodes/core/AttributeNode.cjs.js"),require("./ShaderLib.cjs.js");module.exports=class{constructor(e){this.renderer=e,this.nodeFrame=new r,this.builders=new WeakMap}get(r){let s=this.builders.get(r);return void 0===s&&(s=new e(r,this.renderer).build(),this.builders.set(r,s)),s}remove(e){this.builders.delete(e)}updateFrame(){this.nodeFrame.update()}update(e,r){const s=e.material,o=this.get(s),i=this.nodeFrame;i.material=s,i.camera=r,i.object=e;for(let e of o.updateNodes)i.updateNode(e)}dispose(){this.builders=new WeakMap}};
