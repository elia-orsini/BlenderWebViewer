"use strict";module.exports=class{constructor(e,t){this.device=e,this.glslang=t,this.pipelines=new WeakMap,this.shaderModules={compute:new WeakMap}}get(e){let t=this.pipelines.get(e);if(void 0===t){const s=this.device,i={computeShader:e.shader},o=this.glslang;let p=this.shaderModules.compute.get(i);if(void 0===p){const e=o.compileGLSL(i.computeShader,"compute");p=s.createShaderModule({code:e}),this.shaderModules.compute.set(i,p)}const a={module:p,entryPoint:"main"};t=s.createComputePipeline({computeStage:a}),this.pipelines.set(e,t)}return t}dispose(){this.pipelines=new WeakMap,this.shaderModules={compute:new WeakMap}}};
