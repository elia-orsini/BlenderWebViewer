"use strict";var e=require("./constants.cjs.js");let a;const o=new(require("three").Color);module.exports=class{constructor(e){this.renderer=e,this.forceClear=!1}clear(){this.forceClear=!0}update(r){const l=this.renderer,t=!0===r.isScene?r.background:null;let c=this.forceClear;null===t?(o.copy(l._clearColor),a=l._clearAlpha):!0===t.isColor?(o.copy(t),a=1,c=!0):console.error("THREE.WebGPURenderer: Unsupported background configuration.",t);const d=l._renderPassDescriptor,s=d.colorAttachments[0],n=d.depthStencilAttachment;!0===l.autoClear||!0===c?(!0===l.autoClearColor?s.loadValue={r:o.r,g:o.g,b:o.b,a:a}:s.loadValue=e.GPULoadOp.Load,!0===l.autoClearDepth?n.depthLoadValue=l._clearDepth:n.depthLoadValue=e.GPULoadOp.Load,!0===l.autoClearStencil?n.stencilLoadValue=l._clearDepth:n.stencilLoadValue=e.GPULoadOp.Load):(s.loadValue=e.GPULoadOp.Load,n.depthLoadValue=e.GPULoadOp.Load,n.stencilLoadValue=e.GPULoadOp.Load),this.forceClear=!1}};
