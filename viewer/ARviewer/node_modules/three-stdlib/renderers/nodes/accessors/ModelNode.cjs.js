"use strict";var e=require("@babel/runtime/helpers/defineProperty"),t=require("../core/Node.cjs.js"),r=require("../inputs/Matrix4Node.cjs.js"),i=require("../inputs/Matrix3Node.cjs.js"),s=require("../core/constants.cjs.js");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../core/InputNode.cjs.js"),require("three");var u=o(e);class n extends t{constructor(e=n.VIEW){super(),this.scope=e,this.updateType=s.NodeUpdateType.Object,this._inputNode=null}getType(){const e=this.scope;return e===n.VIEW?"mat4":e===n.NORMAL?"mat3":void 0}update(e){const t=e.object,r=this._inputNode,i=this.scope;i===n.VIEW?r.value=t.modelViewMatrix:i===n.NORMAL&&(r.value=t.normalMatrix)}generate(e,t){const s=e.getDataFromNode(this);let o=this._inputNode;if(void 0===s.inputNode){const e=this.scope;e===n.VIEW?null!==o&&!0===o.isMatrix4Node||(o=new r(null)):e===n.NORMAL&&(null!==o&&!0===o.isMatrix3Node||(o=new i(null))),this._inputNode=o,s.inputNode=o}return o.build(e,t)}}u.default(n,"VIEW","view"),u.default(n,"NORMAL","normal"),module.exports=n;
