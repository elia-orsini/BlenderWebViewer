import{useId as e}from"@radix-ui/react-id";import*as o from"@radix-ui/react-visually-hidden";import{Slottable as t}from"@radix-ui/react-slot";import{Portal as r}from"@radix-ui/react-portal";import*as n from"@radix-ui/react-popper";import{createPopperScope as i}from"@radix-ui/react-popper";import{Primitive as a}from"@radix-ui/react-primitive";import{Presence as l}from"@radix-ui/react-presence";import{useRect as c}from"@radix-ui/react-use-rect";import{usePrevious as s}from"@radix-ui/react-use-previous";import{useEscapeKeydown as u}from"@radix-ui/react-use-escape-keydown";import{useControllableState as p}from"@radix-ui/react-use-controllable-state";import{createContextScope as d}from"@radix-ui/react-context";import{useComposedRefs as m}from"@radix-ui/react-compose-refs";import{composeEventHandlers as f}from"@radix-ui/primitive";import*as T from"react";import C from"@babel/runtime/helpers/esm/extends";const[w,x]=d("Tooltip",[i]);export{x as createTooltipScope};const g=i(),E=700,[v,b]=w("TooltipProvider",{isOpenDelayed:!0,delayDuration:E,onOpen:()=>{},onClose:()=>{}});export const TooltipProvider=e=>{const{__scopeTooltip:o,delayDuration:t=E,skipDelayDuration:r=300,children:n}=e,[i,a]=T.useState(!0),l=T.useRef(0);return T.useEffect((()=>{const e=l.current;return()=>window.clearTimeout(e)}),[]),/*#__PURE__*/T.createElement(v,{scope:o,isOpenDelayed:i,delayDuration:t,onOpen:T.useCallback((()=>{window.clearTimeout(l.current),a(!1)}),[]),onClose:T.useCallback((()=>{window.clearTimeout(l.current),l.current=window.setTimeout((()=>a(!0)),r)}),[r])},n)};/*#__PURE__*/const[y,_]=w("Tooltip");export const Tooltip=o=>{const{__scopeTooltip:t,children:r,open:i,defaultOpen:a=!1,onOpenChange:l,delayDuration:c}=o,s=b("Tooltip",t),u=g(t),[d,m]=T.useState(null),f=e(),C=T.useRef(0),w=null!=c?c:s.delayDuration,x=T.useRef(!1),{onOpen:E,onClose:v}=s,[_=!1,h]=p({prop:i,defaultProp:a,onChange:e=>{e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),E()),null==l||l(e)}}),k=T.useMemo((()=>_?x.current?"delayed-open":"instant-open":"closed"),[_]),D=T.useCallback((()=>{window.clearTimeout(C.current),x.current=!1,h(!0)}),[h]),O=T.useCallback((()=>{window.clearTimeout(C.current),C.current=window.setTimeout((()=>{x.current=!0,h(!0)}),w)}),[w,h]);return T.useEffect((()=>()=>window.clearTimeout(C.current)),[]),/*#__PURE__*/T.createElement(n.Root,u,/*#__PURE__*/T.createElement(y,{scope:t,contentId:f,open:_,stateAttribute:k,trigger:d,onTriggerChange:m,onTriggerEnter:T.useCallback((()=>{s.isOpenDelayed?O():D()}),[s.isOpenDelayed,O,D]),onOpen:T.useCallback(D,[D]),onClose:T.useCallback((()=>{window.clearTimeout(C.current),h(!1),v()}),[h,v])},r))};/*#__PURE__*/export const TooltipTrigger=/*#__PURE__*/T.forwardRef(((e,o)=>{const{__scopeTooltip:t,...r}=e,i=_("TooltipTrigger",t),l=g(t),c=m(o,i.onTriggerChange),s=T.useRef(!1),u=T.useCallback((()=>s.current=!1),[]);return T.useEffect((()=>()=>document.removeEventListener("mouseup",u)),[u]),/*#__PURE__*/T.createElement(n.Anchor,C({asChild:!0},l),/*#__PURE__*/T.createElement(a.button,C({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onMouseEnter:f(e.onMouseEnter,i.onTriggerEnter),onMouseLeave:f(e.onMouseLeave,i.onClose),onMouseDown:f(e.onMouseDown,(()=>{i.onClose(),s.current=!0,document.addEventListener("mouseup",u,{once:!0})})),onFocus:f(e.onFocus,(()=>{s.current||i.onOpen()})),onBlur:f(e.onBlur,i.onClose),onClick:f(e.onClick,i.onClose)})))}));/*#__PURE__*/export const TooltipContent=/*#__PURE__*/T.forwardRef(((e,o)=>{const{forceMount:t,...r}=e,n=_("TooltipContent",e.__scopeTooltip);/*#__PURE__*/return T.createElement(l,{present:t||n.open},/*#__PURE__*/T.createElement(h,C({ref:o},r)))}));const h=/*#__PURE__*/T.forwardRef(((e,i)=>{const{__scopeTooltip:a,children:l,"aria-label":c,portalled:s=!0,...p}=e,d=_("TooltipContent",a),m=g(a),f=s?r:T.Fragment,{onClose:w}=d;return u((()=>w())),T.useEffect((()=>(document.addEventListener("tooltip.open",w),()=>document.removeEventListener("tooltip.open",w))),[w]),/*#__PURE__*/T.createElement(f,null,/*#__PURE__*/T.createElement(k,{__scopeTooltip:a}),/*#__PURE__*/T.createElement(n.Content,C({"data-state":d.stateAttribute},m,p,{ref:i,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),/*#__PURE__*/T.createElement(t,null,l),/*#__PURE__*/T.createElement(o.Root,{id:d.contentId,role:"tooltip"},c||l)))}));/*#__PURE__*/export const TooltipArrow=/*#__PURE__*/T.forwardRef(((e,o)=>{const{__scopeTooltip:t,...r}=e,i=g(t);/*#__PURE__*/return T.createElement(n.Arrow,C({},i,r,{ref:o}))}));/*#__PURE__*/function k(e){const{__scopeTooltip:o}=e,t=_("CheckTriggerMoved",o),r=c(t.trigger),n=null==r?void 0:r.left,i=s(n),a=null==r?void 0:r.top,l=s(a),u=t.onClose;return T.useEffect((()=>{(void 0!==i&&i!==n||void 0!==l&&l!==a)&&u()}),[u,i,l,n,a]),null}export const Provider=TooltipProvider;export const Root=Tooltip;export const Trigger=TooltipTrigger;export const Content=TooltipContent;export const Arrow=TooltipArrow;
//# sourceMappingURL=index.module.js.map
